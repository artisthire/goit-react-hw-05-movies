{"version":3,"file":"static/js/home.d59fd1da.chunk.js","mappings":"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","sources":["components/MovieCard/MovieCard.styled.js","components/MovieCard/MovieCard.jsx","components/LoadSpinner/LoadSpinner.styled.js","components/LoadSpinner/LoadSpinner.jsx","components/Notification/Notification.styled.js","components/Notification/Notification.jsx","hooks/useLoader.js","components/MovieList/MovieList.styled.js","components/MovieList/MovieList.jsx","pages/Home.jsx","services/api.js","../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js"],"sourcesContent":["import styled from 'styled-components';\n\nexport const Container = styled.div`\n  display: grid;\n  grid-template-columns: 250px 1fr;\n  gap: 10px;\n  padding: 15px 0;\n`;\n\nexport const Title = styled.h2`\n  font-size: 1.3em;\n  font-weight: 600;\n  margin: 10px 0 20px;\n`;\n\nexport const SubTitle = styled.h3`\n  font-size: 1.1em;\n  font-weight: 600;\n  margin: 10px 0 20px;\n`;\n\nexport const Text = styled.p`\n  margin: 1em 0;\n  padding-left: 8px;\n`;\n","import PropTypes from 'prop-types';\nimport { IMG_URL_BASE } from 'services/api';\nimport { Container, Title, SubTitle, Text } from './MovieCard.styled';\n\nfunction MovieCard({ movie }) {\n  const {\n    poster_path: posterImg,\n    title,\n    overview,\n    vote_average,\n    genres,\n  } = movie;\n  const votePercent = Math.trunc(vote_average * 10) + '%';\n  const genresString =\n    genres && genres.reduce((sum, genre) => [...sum, genre.name], []).join(' ');\n\n  return (\n    <Container>\n      <img src={`${IMG_URL_BASE}/${posterImg}`} alt={`${title}`} />\n\n      <div>\n        <Title>{title}</Title>\n        <Text>User score: {votePercent}</Text>\n        <SubTitle>Overview</SubTitle>\n        <Text>{overview}</Text>\n        {genresString && (\n          <>\n            <SubTitle>Genres</SubTitle>\n            <Text>{genresString}</Text>\n          </>\n        )}\n      </div>\n    </Container>\n  );\n}\n\nMovieCard.propTypes = {\n  movie: PropTypes.shape({\n    poster_path: PropTypes.string.isRequired,\n    title: PropTypes.string.isRequired,\n    overview: PropTypes.string.isRequired,\n    vote_average: PropTypes.number.isRequired,\n    genres: PropTypes.arrayOf(\n      PropTypes.shape({ name: PropTypes.string.isRequired })\n    ),\n  }),\n};\n\nexport default MovieCard;\n","import styled, { keyframes } from 'styled-components';\nimport { ImSpinner9 } from 'react-icons/im';\n\nconst rotate = keyframes`\n  from {\n    transform: rotate(0deg);\n  }\n\n  to {\n    transform: rotate(359deg);\n  }\n`;\n\nexport const LoadingIcon = styled(ImSpinner9)`\n  display: block;\n  width: 60px;\n  height: 60px;\n  margin: 30px auto;\n  color: #7a82b5;\n\n  animation: ${rotate} 1s linear infinite;\n`;\n","import { LoadingIcon } from './LoadSpinner.styled';\n\nfunction LoadSpinner() {\n  return <LoadingIcon />;\n}\n\nexport default LoadSpinner;\n","import styled from 'styled-components';\n\nexport const Container = styled.p`\n  margin: 0;\n  font-size: 20px;\n  font-weight: 400;\n`;\n","import PropTypes from 'prop-types';\nimport { Container } from './Notification.styled';\n\nfunction Notification({ message }) {\n  return <Container>{message}</Container>;\n}\n\nNotification.propTypes = {\n  message: PropTypes.string.isRequired,\n};\n\nexport default Notification;\n","import { useState, useEffect } from 'react';\n\nimport LoadSpinner from 'components/LoadSpinner';\nimport Notification from 'components/Notification';\n\nconst STATUS = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nfunction useLoader({ callback, initData }) {\n  const [status, setStatus] = useState(STATUS.IDLE);\n  const [data, setData] = useState(initData);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    (async () => {\n      setStatus(STATUS.PENDING);\n\n      try {\n        const data = await callback();\n        setData(data);\n        setStatus(STATUS.RESOLVED);\n      } catch (error) {\n        setStatus(STATUS.REJECTED);\n        setError(error);\n      }\n    })();\n  }, [callback]);\n\n  const Loader = () => {\n    if (status === STATUS.PENDING) {\n      return <LoadSpinner />;\n    }\n\n    if (status === STATUS.REJECTED) {\n      return <Notification message={error.message} />;\n    }\n\n    return null;\n  };\n\n  return { data, isLoaded: status === STATUS.RESOLVED, Loader };\n}\n\nexport default useLoader;\n","import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\n\nexport const List = styled.ul`\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(450px, 1fr));\n  gap: 10px;\n  margin: 0;\n  padding: 0;\n  list-style: none;\n`;\n\nexport const LinkStyled = styled(Link)`\n  color: inherit;\n  text-decoration: none;\n`;\n","import MovieCard from 'components/MovieCard';\nimport { List, LinkStyled } from './MovieList.styled';\n\nfunction MovieList({ movies, toLink }) {\n  return (\n    <List>\n      {movies.map(movie => (\n        <li key={movie.id}>\n          <LinkStyled to={`${toLink}/${movie.id}`}>\n            <MovieCard movie={movie} />\n          </LinkStyled>\n        </li>\n      ))}\n    </List>\n  );\n}\n\nexport default MovieList;\n","import { fetchAllMovies } from 'services/api';\n\nimport useLoader from 'hooks/useLoader';\nimport Section from 'components/Section';\nimport MovieList from 'components/MovieList';\n\nfunction Home() {\n  let { data, isLoaded, Loader } = useLoader({\n    callback: fetchAllMovies,\n    initData: [],\n  });\n\n  return (\n    <Section title=\"Tranding today\">\n      {isLoaded && <MovieList movies={data} toLink=\"movies/\" />}\n\n      <Loader />\n    </Section>\n  );\n}\n\nexport default Home;\n","import axios from 'axios';\n\nconst axiosInstance = axios.create({\n  method: 'get',\n  baseURL: 'https://api.themoviedb.org/3',\n  params: {\n    api_key: '157707c22d4cc8eeebe0477c49922db6',\n    page: 1,\n  },\n});\n\nexport async function fetchAllMovies() {\n  try {\n    const { data } = await axiosInstance({\n      url: '/trending/movie/day',\n    });\n\n    return data.results;\n  } catch (err) {\n    console.error(err.message);\n    throw err;\n  }\n}\n\nexport async function fetchFilteredMovies(query) {\n  try {\n    const { data } = await axiosInstance({\n      url: '/search/movie',\n      params: {\n        query,\n      },\n    });\n\n    if (data.results.length === 0) {\n      throw new Error(`Not found for request: \"${query}\"`);\n    }\n\n    return data.results;\n  } catch (err) {\n    console.error(err.message);\n    throw err;\n  }\n}\n\nexport async function fetchMovieDetails(moveID) {\n  try {\n    const { data } = await axiosInstance({\n      url: `/movie/${moveID}`,\n    });\n    return data;\n  } catch (err) {\n    console.error(err.message);\n    throw err;\n  }\n}\n\nexport async function fetchMovieCredits(moveID) {\n  try {\n    const { data } = await axiosInstance({\n      url: `/movie/${moveID}/credits`,\n    });\n    return data.cast.slice(0, 15);\n  } catch (err) {\n    console.error(err.message);\n    throw err;\n  }\n}\n\nexport async function fetchMovieReviews(moveID) {\n  try {\n    const { data } = await axiosInstance({\n      url: `/movie/${moveID}/reviews`,\n    });\n\n    if (data.results.length === 0) {\n      throw new Error('We don`t have any reviews for this movie');\n    }\n\n    return data.results;\n  } catch (err) {\n    console.error(err.message);\n    throw err;\n  }\n}\n\nexport function transformResponse(items, baseURL = '') {\n  return items.map(item => ({\n    key: item.id,\n    label: item.title,\n    toLink: `${baseURL}${item.id}`,\n  }));\n}\n\nexport const IMG_URL_BASE = 'https://image.tmdb.org/t/p/w500';\n","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}"],"names":["Container","styled","Title","SubTitle","Text","movie","posterImg","poster_path","title","overview","vote_average","genres","votePercent","Math","trunc","genresString","reduce","sum","genre","name","join","src","IMG_URL_BASE","alt","rotate","keyframes","LoadingIcon","ImSpinner9","message","STATUS","callback","initData","useState","status","setStatus","data","setData","error","setError","useEffect","isLoaded","Loader","List","LinkStyled","Link","movies","toLink","map","to","id","MovieCard","useLoader","fetchAllMovies","Section","axiosInstance","axios","method","baseURL","params","api_key","page","url","results","console","fetchFilteredMovies","query","length","Error","fetchMovieDetails","moveID","fetchMovieCredits","cast","slice","fetchMovieReviews","transformResponse","items","item","key","label","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","from","unsupportedIterableToArray","TypeError"],"sourceRoot":""}