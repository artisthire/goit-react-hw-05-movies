"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[739],{6473:function(n,e,t){t.d(e,{Z:function(){return y}});var r,a,i=t(5861),s=t(885),c=t(7757),o=t.n(c),u=t(2791),l=t(168),p=t(6031),d=t(828),f=(0,p.F4)(r||(r=(0,l.Z)(["\n  from {\n    transform: rotate(0deg);\n  }\n\n  to {\n    transform: rotate(359deg);\n  }\n"]))),x=(0,p.ZP)(d.j8h)(a||(a=(0,l.Z)(["\n  display: block;\n  width: 60px;\n  height: 60px;\n  margin: 30px auto;\n  color: #7a82b5;\n\n  animation: "," 1s linear infinite;\n"])),f),h=t(184);var v,m=function(){return(0,h.jsx)(x,{})},g=p.ZP.p(v||(v=(0,l.Z)(["\n  margin: 0;\n  font-size: 20px;\n  font-weight: 400;\n"])));var b=function(n){var e=n.message;return(0,h.jsx)(g,{children:e})},Z="idle",j="pending",w="resolved",k="rejected";var y=function(n){var e=n.callback,t=n.initData,r=(0,u.useState)(Z),a=(0,s.Z)(r,2),c=a[0],l=a[1],p=(0,u.useState)(t),d=(0,s.Z)(p,2),f=d[0],x=d[1],v=(0,u.useState)(null),g=(0,s.Z)(v,2),y=g[0],_=g[1];return(0,u.useEffect)((function(){(0,i.Z)(o().mark((function n(){var t;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return l(j),n.prev=1,n.next=4,e();case 4:t=n.sent,x(t),l(w),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(1),l(k),_(n.t0);case 13:case"end":return n.stop()}}),n,null,[[1,9]])})))()}),[e]),{data:f,isLoaded:c===w,Loader:function(){return c===j?(0,h.jsx)(m,{}):c===k?(0,h.jsx)(b,{message:y.message}):null}}}},9867:function(n,e,t){t.r(e),t.d(e,{default:function(){return M}});var r,a=t(5861),i=t(8683),s=t(7757),c=t.n(s),o=t(2791),u=t(6871),l=t(6355),p=t(4390),d=t(6473),f=t(5903),x=t(168),h=t(6031),v=h.ZP.button(r||(r=(0,x.Z)(["\n  display: inline-flex;\n  align-items: center;\n  gap: 5px;\n  padding: 6px 2px;\n  border: none;\n  font-size: 18px;\n  background-color: transparent;\n  cursor: pointer;\n\n  &:hover,\n  &:focus {\n    background-color: rgba(204, 204, 204, 0.5);\n  }\n"]))),m=t(184);var g,b,Z,j,w=function(n){var e=n.onClick,t=n.children;return(0,m.jsx)(v,{type:"button",onClick:e,children:t})},k=t(2982),y=h.ZP.div(g||(g=(0,x.Z)(["\n  display: grid;\n  grid-template-columns: 250px 1fr;\n  gap: 10px;\n  padding: 15px 0;\n  border-bottom: 1px solid #ccc;\n"]))),_=h.ZP.h2(b||(b=(0,x.Z)(["\n  font-size: 1.3em;\n  font-weight: 600;\n  margin: 10px 0 20px;\n"]))),P=h.ZP.h3(Z||(Z=(0,x.Z)(["\n  font-size: 1.1em;\n  font-weight: 600;\n  margin: 10px 0 20px;\n"]))),C=h.ZP.p(j||(j=(0,x.Z)(["\n  margin: 1em 0;\n  padding-left: 8px;\n"])));var L,z=function(n){var e=n.movie,t=e.poster_path,r=e.title,a=e.overview,i=e.vote_average,s=e.genres,c=Math.trunc(10*i)+"%",o=s.reduce((function(n,e){return[].concat((0,k.Z)(n),[e.name])}),[]).join(" ");return(0,m.jsxs)(y,{children:[(0,m.jsx)("img",{src:"".concat(p.UR,"/").concat(t),alt:"".concat(r)}),(0,m.jsxs)("div",{children:[(0,m.jsx)(_,{children:r}),(0,m.jsxs)(C,{children:["User score: ",c]}),(0,m.jsx)(P,{children:"Overview"}),(0,m.jsx)(C,{children:a}),(0,m.jsx)(P,{children:"Genres"}),(0,m.jsx)(C,{children:o})]})]})},U=t(4972),R=h.ZP.ul(L||(L=(0,x.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  margin: 0 0 20px 0;\n  padding: 0 0 10px 30px;\n  border-bottom: 1px solid #ccc;\n  list-style: none;\n"])));var S=function(n){var e=n.movie,t=n.location;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(z,{movie:e}),(0,m.jsx)("p",{children:"Additional information"}),(0,m.jsxs)(R,{children:[(0,m.jsx)("li",{children:(0,m.jsx)(U.Z,{to:"cast",label:"Cast",state:{from:t}})}),(0,m.jsx)("li",{children:(0,m.jsx)(U.Z,{to:"reviews",label:"Reviews",state:{from:t}})})]})]})},A=(0,o.lazy)((function(){return t.e(709).then(t.bind(t,3190))})),E=(0,o.lazy)((function(){return t.e(753).then(t.bind(t,2736))}));var M=function(){var n,e=(0,u.UO)().movieId,t=(0,u.TH)(),r=(0,u.s0)(),s=null!==(n=t.state)&&void 0!==n&&n.from?(0,i.Z)({},t.state.from):(0,i.Z)((0,i.Z)({},t),{},{pathname:"/"}),x=(0,o.useCallback)((0,a.Z)(c().mark((function n(){return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,p.Y5)(e));case 1:case"end":return n.stop()}}),n)}))),[e]),h=(0,d.Z)({callback:x,initData:null}),v=h.data,g=h.isLoaded,b=h.Loader;return(0,m.jsxs)(f.Z,{title:"Movie details",children:[(0,m.jsxs)(w,{type:"button",onClick:function(){r(s.pathname,{state:{from:s}})},children:[(0,m.jsx)(l.BMs,{}),"Go back"]}),g&&(0,m.jsx)(S,{movie:v,location:s}),(0,m.jsx)(b,{}),(0,m.jsx)(o.Suspense,{fallback:(0,m.jsx)(f.Z,{children:"Loading..."}),children:(0,m.jsxs)(u.Z5,{children:[(0,m.jsx)(u.AW,{path:"cast",element:(0,m.jsx)(A,{})}),(0,m.jsx)(u.AW,{path:"reviews",element:(0,m.jsx)(E,{})})]})})]})}},4390:function(n,e,t){t.d(e,{Hx:function(){return v},UR:function(){return b},Y5:function(){return d},ad:function(){return l},gV:function(){return g},ss:function(){return o},xc:function(){return x}});var r=t(5861),a=t(7757),i=t.n(a),s=t(4569),c=t.n(s)().create({method:"get",baseURL:"https://api.themoviedb.org/3",params:{api_key:"157707c22d4cc8eeebe0477c49922db6",params:{page:1}}});function o(){return u.apply(this,arguments)}function u(){return(u=(0,r.Z)(i().mark((function n(){var e,t;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c({url:"/trending/movie/day"});case 2:return e=n.sent,t=e.data,n.abrupt("return",t.results);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function l(n){return p.apply(this,arguments)}function p(){return(p=(0,r.Z)(i().mark((function n(e){var t,r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c({url:"/search/movie",params:{query:e}});case 2:if(t=n.sent,0!==(r=t.data).results.length){n.next=6;break}throw new Error('Not found for request: "'.concat(e,'"'));case 6:return n.abrupt("return",r.results);case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function d(n){return f.apply(this,arguments)}function f(){return(f=(0,r.Z)(i().mark((function n(e){var t,r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c({url:"/movie/".concat(e)});case 2:return t=n.sent,r=t.data,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function x(n){return h.apply(this,arguments)}function h(){return(h=(0,r.Z)(i().mark((function n(e){var t,r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c({url:"/movie/".concat(e,"/credits")});case 2:return t=n.sent,r=t.data,n.abrupt("return",r.cast.slice(0,15));case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function v(n){return m.apply(this,arguments)}function m(){return(m=(0,r.Z)(i().mark((function n(e){var t,r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c({url:"/movie/".concat(e,"/reviews")});case 2:if(t=n.sent,0!==(r=t.data).results.length){n.next=6;break}throw new Error("We don`t have any reviews for this movie");case 6:return n.abrupt("return",r.results);case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function g(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return n.map((function(n){return{key:n.id,label:n.title,toLink:"".concat(e).concat(n.id)}}))}var b="https://image.tmdb.org/t/p/w500"}}]);
//# sourceMappingURL=MovieDetails.c9ddb18a.chunk.js.map