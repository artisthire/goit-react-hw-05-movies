"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[321],{4672:function(n,e,t){t.d(e,{Z:function(){return v}});var r,a,s,c,i=t(2982),o=t(4390),u=t(168),l=t(6031),p=l.ZP.div(r||(r=(0,u.Z)(["\n  display: grid;\n  grid-template-columns: 250px 1fr;\n  gap: 10px;\n  padding: 15px 0;\n"]))),d=l.ZP.h2(a||(a=(0,u.Z)(["\n  font-size: 1.3em;\n  font-weight: 600;\n  margin: 10px 0 20px;\n"]))),f=l.ZP.h3(s||(s=(0,u.Z)(["\n  font-size: 1.1em;\n  font-weight: 600;\n  margin: 10px 0 20px;\n"]))),h=l.ZP.p(c||(c=(0,u.Z)(["\n  margin: 1em 0;\n  padding-left: 8px;\n"]))),x=t(184);var v=function(n){var e=n.movie,t=e.poster_path,r=e.title,a=e.overview,s=e.vote_average,c=e.genres,u=Math.trunc(10*s)+"%",l=c&&c.reduce((function(n,e){return[].concat((0,i.Z)(n),[e.name])}),[]).join(" ");return(0,x.jsxs)(p,{children:[(0,x.jsx)("img",{src:"".concat(o.UR,"/").concat(t),alt:"".concat(r)}),(0,x.jsxs)("div",{children:[(0,x.jsx)(d,{children:r}),(0,x.jsxs)(h,{children:["User score: ",u]}),(0,x.jsx)(f,{children:"Overview"}),(0,x.jsx)(h,{children:a}),l&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(f,{children:"Genres"}),(0,x.jsx)(h,{children:l})]})]})]})}},6473:function(n,e,t){t.d(e,{Z:function(){return y}});var r,a,s=t(5861),c=t(885),i=t(7757),o=t.n(i),u=t(2791),l=t(168),p=t(6031),d=t(828),f=(0,p.F4)(r||(r=(0,l.Z)(["\n  from {\n    transform: rotate(0deg);\n  }\n\n  to {\n    transform: rotate(359deg);\n  }\n"]))),h=(0,p.ZP)(d.j8h)(a||(a=(0,l.Z)(["\n  display: block;\n  width: 60px;\n  height: 60px;\n  margin: 30px auto;\n  color: #7a82b5;\n\n  animation: "," 1s linear infinite;\n"])),f),x=t(184);var v,m=function(){return(0,x.jsx)(h,{})},g=p.ZP.p(v||(v=(0,l.Z)(["\n  margin: 0;\n  font-size: 20px;\n  font-weight: 400;\n"])));var Z=function(n){var e=n.message;return(0,x.jsx)(g,{children:e})},w="idle",b="pending",j="resolved",k="rejected";var y=function(n){var e=n.callback,t=n.initData,r=(0,u.useState)(w),a=(0,c.Z)(r,2),i=a[0],l=a[1],p=(0,u.useState)(t),d=(0,c.Z)(p,2),f=d[0],h=d[1],v=(0,u.useState)(null),g=(0,c.Z)(v,2),y=g[0],_=g[1];return(0,u.useEffect)((function(){(0,s.Z)(o().mark((function n(){var t;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return l(b),n.prev=1,n.next=4,e();case 4:t=n.sent,h(t),l(j),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(1),l(k),_(n.t0);case 13:case"end":return n.stop()}}),n,null,[[1,9]])})))()}),[e]),{data:f,isLoaded:i===j,Loader:function(){return i===b?(0,x.jsx)(m,{}):i===k?(0,x.jsx)(Z,{message:y.message}):null}}}},2113:function(n,e,t){t.r(e),t.d(e,{default:function(){return L}});var r,a=t(5861),s=t(8683),c=t(7757),i=t.n(c),o=t(2791),u=t(6871),l=t(6355),p=t(4390),d=t(6473),f=t(5903),h=t(168),x=t(6031),v=x.ZP.button(r||(r=(0,h.Z)(["\n  display: inline-flex;\n  align-items: center;\n  gap: 5px;\n  padding: 6px 2px;\n  border: none;\n  font-size: 18px;\n  background-color: transparent;\n  cursor: pointer;\n\n  &:hover,\n  &:focus {\n    background-color: rgba(204, 204, 204, 0.5);\n  }\n"]))),m=t(184);var g,Z,w=function(n){var e=n.onClick,t=n.children;return(0,m.jsx)(v,{type:"button",onClick:e,children:t})},b=t(4672),j=t(4972),k=x.ZP.ul(g||(g=(0,h.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  margin: 0 0 20px 0;\n  padding: 0 0 10px 30px;\n  border-bottom: 1px solid #ccc;\n  list-style: none;\n"]))),y=x.ZP.p(Z||(Z=(0,h.Z)(["\n  margin: 0 0 20px 0;\n  padding-top: 20px;\n  border-top: 1px solid #ccc;\n"])));var _=function(n){var e=n.movie,t=n.location;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(b.Z,{movie:e}),(0,m.jsx)(y,{children:"Additional information"}),(0,m.jsxs)(k,{children:[(0,m.jsx)("li",{children:(0,m.jsx)(j.Z,{to:"cast",label:"Cast",state:{from:t}})}),(0,m.jsx)("li",{children:(0,m.jsx)(j.Z,{to:"reviews",label:"Reviews",state:{from:t}})})]})]})},P=(0,o.lazy)((function(){return t.e(277).then(t.bind(t,3190))})),C=(0,o.lazy)((function(){return t.e(912).then(t.bind(t,2736))}));var L=function(){var n,e=(0,u.UO)().movieId,t=(0,u.TH)(),r=(0,u.s0)(),c=null!==(n=t.state)&&void 0!==n&&n.from?(0,s.Z)({},t.state.from):(0,s.Z)((0,s.Z)({},t),{},{pathname:"/"}),h=(0,o.useCallback)((0,a.Z)(i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,p.Y5)(e));case 1:case"end":return n.stop()}}),n)}))),[e]),x=(0,d.Z)({callback:h,initData:null}),v=x.data,g=x.isLoaded,Z=x.Loader;return(0,m.jsxs)(f.Z,{title:"Movie details",children:[(0,m.jsxs)(w,{type:"button",onClick:function(){r(c.pathname,{state:{from:c}})},children:[(0,m.jsx)(l.BMs,{}),"Go back"]}),g&&(0,m.jsx)(_,{movie:v,location:c}),(0,m.jsx)(Z,{}),(0,m.jsx)(o.Suspense,{fallback:(0,m.jsx)(f.Z,{children:"Loading..."}),children:(0,m.jsxs)(u.Z5,{children:[(0,m.jsx)(u.AW,{path:"cast",element:(0,m.jsx)(P,{})}),(0,m.jsx)(u.AW,{path:"reviews",element:(0,m.jsx)(C,{})})]})})]})}},4390:function(n,e,t){t.d(e,{Hx:function(){return v},UR:function(){return Z},Y5:function(){return d},ad:function(){return l},m5:function(){return g},ss:function(){return o},xc:function(){return h}});var r=t(5861),a=t(7757),s=t.n(a),c=t(4569),i=t.n(c)().create({method:"get",baseURL:"https://api.themoviedb.org/3",params:{api_key:"157707c22d4cc8eeebe0477c49922db6",page:1}});function o(){return u.apply(this,arguments)}function u(){return(u=(0,r.Z)(s().mark((function n(){var e,t;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,i({url:"/trending/movie/day"});case 3:return e=n.sent,t=e.data,n.abrupt("return",t.results);case 8:throw n.prev=8,n.t0=n.catch(0),console.error(n.t0.message),n.t0;case 12:case"end":return n.stop()}}),n,null,[[0,8]])})))).apply(this,arguments)}function l(n){return p.apply(this,arguments)}function p(){return(p=(0,r.Z)(s().mark((function n(e){var t,r;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,i({url:"/search/movie",params:{query:e}});case 3:if(t=n.sent,0!==(r=t.data).results.length){n.next=7;break}throw new Error('Not found for request: "'.concat(e,'"'));case 7:return n.abrupt("return",r.results);case 10:throw n.prev=10,n.t0=n.catch(0),console.error(n.t0.message),n.t0;case 14:case"end":return n.stop()}}),n,null,[[0,10]])})))).apply(this,arguments)}function d(n){return f.apply(this,arguments)}function f(){return(f=(0,r.Z)(s().mark((function n(e){var t,r;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,i({url:"/movie/".concat(e)});case 3:return t=n.sent,r=t.data,n.abrupt("return",r);case 8:throw n.prev=8,n.t0=n.catch(0),console.error(n.t0.message),n.t0;case 12:case"end":return n.stop()}}),n,null,[[0,8]])})))).apply(this,arguments)}function h(n){return x.apply(this,arguments)}function x(){return(x=(0,r.Z)(s().mark((function n(e){var t,r;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,i({url:"/movie/".concat(e,"/credits")});case 3:return t=n.sent,r=t.data,n.abrupt("return",r.cast.slice(0,15));case 8:throw n.prev=8,n.t0=n.catch(0),console.error(n.t0.message),n.t0;case 12:case"end":return n.stop()}}),n,null,[[0,8]])})))).apply(this,arguments)}function v(n){return m.apply(this,arguments)}function m(){return(m=(0,r.Z)(s().mark((function n(e){var t,r;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,i({url:"/movie/".concat(e,"/reviews")});case 3:if(t=n.sent,0!==(r=t.data).results.length){n.next=7;break}throw new Error("We don`t have any reviews for this movie");case 7:return n.abrupt("return",r.results);case 10:throw n.prev=10,n.t0=n.catch(0),console.error(n.t0.message),n.t0;case 14:case"end":return n.stop()}}),n,null,[[0,10]])})))).apply(this,arguments)}function g(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return n.map((function(n){return{key:n.id,label:n.title,toLink:"".concat(e).concat(n.id)}}))}var Z="https://image.tmdb.org/t/p/w500"}}]);
//# sourceMappingURL=movie-details.bd457d6e.chunk.js.map