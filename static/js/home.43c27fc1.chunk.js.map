{"version":3,"file":"static/js/home.43c27fc1.chunk.js","mappings":"mNAEaA,E,QAAOC,GAAAA,GAAH,mE,qBC0BjB,MAxBA,YAA4C,IAAxBC,EAAuB,EAAvBA,MAAUC,GAAa,YACzC,OACE,SAACH,EAAD,UACGE,EAAME,KAAI,SAAAC,GAAI,OACb,yBACE,SAAC,MAAD,gBAAMC,GAAID,EAAKE,QAAYJ,GAA3B,aACGE,EAAKG,UAFDH,EAAKI,Y,yICLhBC,GAASC,EAAAA,EAAAA,IAAH,oHAUCC,GAAcX,EAAAA,EAAAA,IAAOY,EAAAA,IAAPZ,CAAH,4JAOTS,G,SCdf,I,EAAA,EAJA,WACE,OAAO,SAACE,EAAD,KCDIE,EAAYb,EAAAA,GAAAA,EAAH,+ECStB,MARA,YAAoC,IAAZc,EAAW,EAAXA,QACtB,OAAO,SAACD,EAAD,UAAYC,KCCfC,EACE,OADFA,EAEK,UAFLA,EAGM,WAHNA,EAIM,WAqCZ,MAlCA,YAA4C,IAAvBC,EAAsB,EAAtBA,SAAUC,EAAY,EAAZA,SAC7B,GAA4BC,EAAAA,EAAAA,UAASH,GAArC,eAAOI,EAAP,KAAeC,EAAf,KACA,GAAwBF,EAAAA,EAAAA,UAASD,GAAjC,eAAOI,EAAP,KAAaC,EAAb,KACA,GAA0BJ,EAAAA,EAAAA,UAAS,MAAnC,eAAOK,EAAP,KAAcC,EAAd,KA4BA,OA1BAC,EAAAA,EAAAA,YAAU,YACR,iBAAC,2FACCL,EAAUL,GADX,kBAGsBC,IAHtB,OAGSK,EAHT,OAIGC,EAAQD,GACRD,EAAUL,GALb,gDAOGK,EAAUL,GACVS,EAAS,EAAD,IARX,wDAAD,KAWC,CAACR,IAcG,CAAEK,KAAAA,EAAMK,SAAUP,IAAWJ,EAAiBY,OAZtC,WACb,OAAIR,IAAWJ,GACN,SAAC,EAAD,IAGLI,IAAWJ,GACN,SAAC,EAAD,CAAcD,QAASS,EAAMT,UAG/B,S,iFCjBX,UAjBA,WACE,OAAiCc,EAAAA,EAAAA,GAAU,CACzCZ,SAAUa,EAAAA,GACVZ,SAAU,KAFNI,EAAN,EAAMA,KAAMK,EAAZ,EAAYA,SAAUC,EAAtB,EAAsBA,OAOtB,OAFAN,GAAOS,EAAAA,EAAAA,IAAkBT,EAAM,YAG7B,UAAC,IAAD,CAASU,MAAM,iBAAf,UACGL,IAAY,SAAC,IAAD,CAAUzB,MAAOoB,KAE9B,SAACM,EAAD,S,iPChBAK,E,MAAgBC,GAAAA,OAAa,CACjCC,OAAQ,MACRC,QAAS,+BACTC,OAAQ,CACNC,QAAS,mCACTC,KAAM,KAIH,SAAeT,IAAtB,4CAAO,OAAP,oBAAO,sGACkBG,EAAc,CACnCO,IAAK,wBAFF,uBACGlB,EADH,EACGA,KADH,kBAKEA,EAAKmB,SALP,kEAQA,SAAeC,EAAtB,+CAAO,OAAP,oBAAO,WAAmCC,GAAnC,yFACkBV,EAAc,CACnCO,IAAK,gBACLH,OAAQ,CACNM,MAAAA,KAJC,mBAQuB,KAPpBrB,EADH,EACGA,MAOCmB,QAAQG,OARZ,sBASG,IAAIC,MAAJ,kCAAqCF,EAArC,MATH,gCAYErB,EAAKmB,SAZP,kEAeA,SAAeK,EAAtB,+CAAO,OAAP,oBAAO,WAAiCC,GAAjC,yFACkBd,EAAc,CACnCO,IAAI,UAAD,OAAYO,KAFZ,uBACGzB,EADH,EACGA,KADH,kBAIEA,GAJF,kEAOA,SAAe0B,EAAtB,+CAAO,OAAP,oBAAO,WAAiCD,GAAjC,yFACkBd,EAAc,CACnCO,IAAI,UAAD,OAAYO,EAAZ,cAFA,uBACGzB,EADH,EACGA,KADH,kBAIEA,EAAK2B,KAAKC,MAAM,EAAG,KAJrB,kEAOA,SAAeC,EAAtB,+CAAO,OAAP,oBAAO,WAAiCJ,GAAjC,yFACkBd,EAAc,CACnCO,IAAI,UAAD,OAAYO,EAAZ,cAFA,mBAKuB,KAJpBzB,EADH,EACGA,MAICmB,QAAQG,OALZ,sBAMG,IAAIC,MAAM,4CANb,gCASEvB,EAAKmB,SATP,kEAYA,SAASV,EAAkB7B,GAAsB,IAAfkC,EAAc,uDAAJ,GACjD,OAAOlC,EAAME,KAAI,SAAAC,GAAI,MAAK,CACxBI,IAAKJ,EAAK+C,GACV5C,MAAOH,EAAK2B,MACZzB,OAAO,GAAD,OAAK6B,GAAL,OAAe/B,EAAK+C,QAIvB,IAAMC,EAAe","sources":["components/LinkList/LinkList.styled.js","components/LinkList/LinkList.jsx","components/LoadSpinner/LoadSpinner.styled.js","components/LoadSpinner/LoadSpinner.jsx","components/Notification/Notification.styled.js","components/Notification/Notification.jsx","hooks/useLoader.js","pages/Home.jsx","services/api.js"],"sourcesContent":["import styled from 'styled-components';\n\nexport const List = styled.ul`\n  margin: 10px 0;\n  padding: 0 0 0 30px;\n`;\n","import PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { List } from './LinkList.styled';\n\nfunction LinkList({ items, ...restProps }) {\n  return (\n    <List>\n      {items.map(item => (\n        <li key={item.key}>\n          <Link to={item.toLink} {...restProps}>\n            {item.label}\n          </Link>\n        </li>\n      ))}\n    </List>\n  );\n}\n\nLinkList.propTypes = {\n  items: PropTypes.arrayOf(\n    PropTypes.exact({\n      key: PropTypes.number.isRequired,\n      toLink: PropTypes.string.isRequired,\n      label: PropTypes.string.isRequired,\n    })\n  ),\n};\n\nexport default LinkList;\n","import styled, { keyframes } from 'styled-components';\nimport { ImSpinner9 } from 'react-icons/im';\n\nconst rotate = keyframes`\n  from {\n    transform: rotate(0deg);\n  }\n\n  to {\n    transform: rotate(359deg);\n  }\n`;\n\nexport const LoadingIcon = styled(ImSpinner9)`\n  display: block;\n  width: 60px;\n  height: 60px;\n  margin: 30px auto;\n  color: #7a82b5;\n\n  animation: ${rotate} 1s linear infinite;\n`;\n","import { LoadingIcon } from './LoadSpinner.styled';\n\nfunction LoadSpinner() {\n  return <LoadingIcon />;\n}\n\nexport default LoadSpinner;\n","import styled from 'styled-components';\n\nexport const Container = styled.p`\n  margin: 0;\n  font-size: 20px;\n  font-weight: 400;\n`;\n","import PropTypes from 'prop-types';\nimport { Container } from './Notification.styled';\n\nfunction Notification({ message }) {\n  return <Container>{message}</Container>;\n}\n\nNotification.propTypes = {\n  message: PropTypes.string.isRequired,\n};\n\nexport default Notification;\n","import { useState, useEffect } from 'react';\n\nimport LoadSpinner from 'components/LoadSpinner';\nimport Notification from 'components/Notification';\n\nconst STATUS = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nfunction useLoader({ callback, initData }) {\n  const [status, setStatus] = useState(STATUS.IDLE);\n  const [data, setData] = useState(initData);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    (async () => {\n      setStatus(STATUS.PENDING);\n      try {\n        const data = await callback();\n        setData(data);\n        setStatus(STATUS.RESOLVED);\n      } catch (error) {\n        setStatus(STATUS.REJECTED);\n        setError(error);\n      }\n    })();\n  }, [callback]);\n\n  const Loader = () => {\n    if (status === STATUS.PENDING) {\n      return <LoadSpinner />;\n    }\n\n    if (status === STATUS.REJECTED) {\n      return <Notification message={error.message} />;\n    }\n\n    return null;\n  };\n\n  return { data, isLoaded: status === STATUS.RESOLVED, Loader };\n}\n\nexport default useLoader;\n","import { fetchAllMovies, transfromResponse } from 'services/api';\n\nimport useLoader from 'hooks/useLoader';\nimport Section from 'components/Section';\nimport ItemList from 'components/LinkList';\n\nfunction Home() {\n  let { data, isLoaded, Loader } = useLoader({\n    callback: fetchAllMovies,\n    initData: [],\n  });\n\n  data = transfromResponse(data, 'movies/');\n\n  return (\n    <Section title=\"Tranding today\">\n      {isLoaded && <ItemList items={data} />}\n\n      <Loader />\n    </Section>\n  );\n}\n\nexport default Home;\n","import axios from 'axios';\n\nconst axiosInstance = axios.create({\n  method: 'get',\n  baseURL: 'https://api.themoviedb.org/3',\n  params: {\n    api_key: '157707c22d4cc8eeebe0477c49922db6',\n    page: 1,\n  },\n});\n\nexport async function fetchAllMovies() {\n  const { data } = await axiosInstance({\n    url: '/trending/movie/day',\n  });\n\n  return data.results;\n}\n\nexport async function fetchFilteredMovies(query) {\n  const { data } = await axiosInstance({\n    url: '/search/movie',\n    params: {\n      query,\n    },\n  });\n\n  if (data.results.length === 0) {\n    throw new Error(`Not found for request: \"${query}\"`);\n  }\n\n  return data.results;\n}\n\nexport async function fetchMovieDetails(moveID) {\n  const { data } = await axiosInstance({\n    url: `/movie/${moveID}`,\n  });\n  return data;\n}\n\nexport async function fetchMovieCredits(moveID) {\n  const { data } = await axiosInstance({\n    url: `/movie/${moveID}/credits`,\n  });\n  return data.cast.slice(0, 15);\n}\n\nexport async function fetchMovieReviews(moveID) {\n  const { data } = await axiosInstance({\n    url: `/movie/${moveID}/reviews`,\n  });\n\n  if (data.results.length === 0) {\n    throw new Error('We don`t have any reviews for this movie');\n  }\n\n  return data.results;\n}\n\nexport function transfromResponse(items, baseURL = '') {\n  return items.map(item => ({\n    key: item.id,\n    label: item.title,\n    toLink: `${baseURL}${item.id}`,\n  }));\n}\n\nexport const IMG_URL_BASE = 'https://image.tmdb.org/t/p/w500';\n"],"names":["List","styled","items","restProps","map","item","to","toLink","label","key","rotate","keyframes","LoadingIcon","ImSpinner9","Container","message","STATUS","callback","initData","useState","status","setStatus","data","setData","error","setError","useEffect","isLoaded","Loader","useLoader","fetchAllMovies","transfromResponse","title","axiosInstance","axios","method","baseURL","params","api_key","page","url","results","fetchFilteredMovies","query","length","Error","fetchMovieDetails","moveID","fetchMovieCredits","cast","slice","fetchMovieReviews","id","IMG_URL_BASE"],"sourceRoot":""}